<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="AlfaAmigo - AplicaciÃ³n de alfabetizaciÃ³n para adultos">
    <title>AlfaAmigo - {% block title %}{% endblock %}</title>

    <!-- PRIMERO nuestro CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}?v=10.0">
    
    <!-- DESPUÃ‰S Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@glidejs/glide/dist/css/glide.core.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">

    <!-- Favicon -->
    <link rel="icon" href="{{ url_for('static', filename='img/favicon.ico') }}">

    <!-- Estilos INLINE de emergencia -->
    <style>
        /* FORZAR estilos de la navbar */
        .navbar {
            background: linear-gradient(135deg, #ff00ff 0%, #00ffff 50%, #ff0080 100%) !important;
            box-shadow: 0 0 30px #ff00ff, 0 0 50px #00ffff !important;
            border-bottom: 3px solid #00ffff !important;
            animation: navbarGlow 2s infinite alternate !important;
        }
        
        /* Indicador de que los estilos funcionan */
        body::before {
            content: "ðŸ”¥ ESTILOS FUNCIONANDO - {{ version }}" !important;
            position: fixed !important;
            top: 10px !important;
            left: 10px !important;
            background: linear-gradient(135deg, #ff00ff, #00ffff) !important;
            color: black !important;
            padding: 10px 15px !important;
            border-radius: 5px !important;
            font-weight: bold !important;
            z-index: 9999 !important;
            border: 2px solid white !important;
            text-shadow: 0 0 5px white !important;
        }
        
        @keyframes navbarGlow {
            0% { box-shadow: 0 0 30px #ff00ff, 0 0 50px #00ffff; }
            100% { box-shadow: 0 0 50px #ff00ff, 0 0 70px #00ffff, 0 0 90px #ff0080; }
        }
    </style>
</head>
<body class="version-{{ version }}">
<nav class="navbar navbar-expand-lg navbar-dark">
    <div class="container">
        <a class="navbar-brand" href="{{ url_for('index') }}">
            <i class="fas fa-book-open me-2"></i>AlfaAmigo
        </a>
        
        <!-- Selector de versiÃ³n -->
        {% if user %}
        <div class="navbar-text me-3">
            <div class="btn-group btn-group-sm version-selector">
                <a href="{{ url_for('set_version', version='kids') }}" 
                   class="btn {% if version == 'kids' %}btn-kids-active{% else %}btn-kids{% endif %}">
                    <i class="fas fa-child me-1"></i> NiÃ±os
                </a>
                <a href="{{ url_for('set_version', version='adults') }}" 
                   class="btn {% if version == 'adults' %}btn-adults-active{% else %}btn-adults{% endif %}">
                    <i class="fas fa-user me-1"></i> Adultos
                </a>
            </div>
        </div>
        {% endif %}
        
        <div class="d-flex align-items-center">
            {% if user %}
                <span class="navbar-text me-3">
                    <i class="fas fa-fire text-warning"></i> Racha: {{ user.streak }} dÃ­as
                </span>
                <span class="navbar-text me-3">
                    <i class="fas fa-star text-warning"></i> {{ user.xp }} XP
                </span>
                <a href="{{ url_for('profile') }}" class="btn btn-outline-light me-2">
                    <i class="fas fa-user"></i>
                </a>
                <a href="{{ url_for('logout') }}" class="btn btn-outline-light">
                    <i class="fas fa-sign-out-alt"></i>
                </a>
            {% else %}
                <a href="{{ url_for('register') }}" class="btn btn-outline-light me-2">
                    <i class="fas fa-user-plus"></i> Registrarse
                </a>
                <a href="{{ url_for('login') }}" class="btn btn-outline-light">
                    <i class="fas fa-sign-in-alt"></i> Entrar
                </a>
            {% endif %}
        </div>
    </div>
</nav>

    <main class="container my-4">
        {% block content %}{% endblock %}
    </main>

    <footer class="bg-light py-4 mt-5">
        <div class="container text-center">
            <p>AlfaAmigo - AplicaciÃ³n de alfabetizaciÃ³n para adultos</p>
            <p class="text-muted">Â© 2025 Todos los derechos reservados</p>
        </div>
    </footer>

    <!-- JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@glidejs/glide"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    
    <script src="{{ url_for('static', filename='js/utils.js') }}"></script>
    <script src="{{ url_for('static', filename='js/auth.js') }}"></script>
    <script src="{{ url_for('static', filename='js/animations.js') }}"></script>
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>

    <!-- Script de verificaciÃ³n -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            console.log('âœ… PÃ¡gina cargada - VersiÃ³n:', '{{ version }}');
            
            // VerificaciÃ³n EXTREMA de estilos
            setTimeout(function() {
                // Cambiar colores con JavaScript para confirmar
                document.body.style.border = '5px solid #ff00ff';
                document.body.style.animation = 'pulse 2s infinite';
                
                // Crear elemento de confirmaciÃ³n
                const confirmDiv = document.createElement('div');
                confirmDiv.innerHTML = 'ðŸŽ‰ Â¡ESTILOS ACTIVOS! ðŸŽ‰';
                confirmDiv.style.cssText = `
                    position: fixed;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    background: linear-gradient(135deg, #ff00ff, #00ffff);
                    color: black;
                    padding: 20px;
                    border-radius: 10px;
                    font-size: 24px;
                    font-weight: bold;
                    z-index: 9999;
                    box-shadow: 0 0 50px #ff00ff;
                    border: 3px solid white;
                `;
                document.body.appendChild(confirmDiv);
                
                // Remover despuÃ©s de 3 segundos
                setTimeout(() => {
                    confirmDiv.remove();
                    document.body.style.border = 'none';
                }, 3000);
                
            }, 1000);
        });
    </script>
</body>
</html>
